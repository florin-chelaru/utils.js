/**
* @license utils.js
* Copyright (c) 2015 Florin Chelaru
* License: MIT
*
* Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated
* documentation files (the "Software"), to deal in the Software without restriction, including without limitation the
* rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to
* permit persons to whom the Software is furnished to do so, subject to the following conditions:
*
* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the
* Software.
*
* THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE
* WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR
* COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
* OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
*/
(function(){'use strict';var e,f=this;function h(a,c){var b=a.split("."),d=f;b[0]in d||!d.execScript||d.execScript("var "+b[0]);for(var g;b.length&&(g=b.shift());)b.length||void 0===c?d[g]?d=d[g]:d=d[g]={}:d[g]=c}function k(a,c){function b(){}b.prototype=c.prototype;a.N=c.prototype;a.prototype=new b;a.prototype.constructor=a;a.M=function(a,b,l){for(var n=Array(arguments.length-2),p=2;p<arguments.length;p++)n[p-2]=arguments[p];return c.prototype[b].apply(a,n)}};function m(a){return a?a.charAt(0).toUpperCase()+a.slice(1):a};function q(a,c){if(void 0==a)return a;var b;if(Array.isArray(a))for(b=0;b<a.length&&!1!==c.call(a[b],b,a[b]);++b);else for(b in a)if(!1===c.call(a[b],b,a[b]))break;return a};function r(a){0>a&&(a=0);this.a=a;this.g=this.o=this.h=this.c=this.b=this.w=this.v=this.u=this.s=null}e=r.prototype;e.f=function(){null==this.b&&(this.b=Math.floor(this.A()));return this.b};e.l=function(){null==this.c&&(this.c=Math.floor(24*(this.A()-this.f())));return this.c};e.m=function(){null==this.h&&(this.h=Math.floor(60*(this.B()-Math.floor(this.B()))));return this.h};e.J=function(){null==this.o&&(this.o=Math.floor(60*(this.C()-Math.floor(this.C()))));return this.o};
e.I=function(){null==this.g&&(this.g=this.a%1E3);return this.g};e.A=function(){null==this.s&&(this.s=this.a/864E5);return this.s};e.B=function(){null==this.u&&(this.u=this.a/36E5);return this.u};e.C=function(){null==this.v&&(this.v=this.a/6E4);return this.v};e.L=function(){null==this.w&&(this.w=this.a/1E3);return this.w};e.K=function(){return this.a};
e.toString=function(){var a="";0<this.f()&&(a=1<this.f()?a+(this.f()+" days"):a+"one day");0<this.l()&&(a&&(a+=", "),a=1<this.l()?a+(this.l()+" hours"):a+"one hour");0<this.m()?(a&&(a+=" and "),a=1<this.m()?a+(this.m()+" minutes"):a+"one minute"):a||(a+="less than a minute");return m(a)};function t(a,c,b,d){this.lat=a||0;this.lng=c||0;this.zoom=b||0;this.range=d||0}t.prototype.a=function(a){return void 0==a?!1:this.lat==a.lat&&this.lng==a.lng&&this.zoom==a.zoom&&this.range==a.range};function v(a,c){this.D=Error(a);this.H=c||null;this.message=this.D.message;this.name="Exception"}k(v,Error);Object.defineProperties(v.prototype,{stack:{get:function(){return this.D.stack}},innerException:{get:function(){return this.H}}});function w(a){return Array.isArray(a)?a:[].slice.apply(a)}function x(a,c){c=c||0;a=a||0;for(var b=Array(a),d=0;d<a;++d)b[d]=d+c;return b};function y(a,c){v.apply(this,arguments);this.name="ReflectionException"}k(y,v);function z(a,c,b){return b?new Promise(function(b){a&&a.length||b();var g,l;g=Array(a.length+1);g[0]=new Promise(function(a){l=a});l();a.forEach(function(a,b){g[b+1]=g[b].then(function(){return c.call(null,a,b)})});g[a.length].then(b)}):Promise.all(a.map(function(a,b){return c(a,b)}))};function A(a,c){this.G=++B;this.a=a;this.b=c}var B=-1;A.prototype.j=function(a){this.a.call(this.b,a)};Object.defineProperties(A.prototype,{id:{get:function(){return this.G}}});function C(a){this.F=a?!!a.O:!1;this.b=0;this.a={};this.i=!1;this.c=a&&a.timeout?a.timeout:setTimeout}Object.defineProperties(C.prototype,{synchronous:{get:function(){return this.F}},firing:{get:function(){return this.i}}});C.prototype.g=function(a,c){"function"==typeof a&&(a=new A(a,c));this.a[a.id]||++this.b;return this.a[a.id]=a};C.prototype.h=function(a){this.a[a.id]&&(delete this.a[a.id],--this.b)};
C.prototype.j=function(a){if(!this.i){var c=this,b=this.c,d=this.F,g=function(){0!=c.b&&(c.i=d,q(c.a,function(c,g){d?g.j(a):b.call(null,function(){g.j(a)},0)}))};d?g():b.call(null,g,0);this.i=!1}};h("u.array.fromArguments",w);h("u.array.fill",function(a,c){a=a||0;for(var b=Array(a),d=0;d<a;++d)b[d]=c;return b});h("u.array.range",x);h("u.array.unique",function(a){return a.reduce(function(a,b){0>a.indexOf(b)&&a.push(b);return a},[])});h("u.async.all",function(a,c){return c?z(a,function(a){return a()},c):Promise.all(a.map(function(a){return a()}))});h("u.async.for",function(a,c,b){return z(x(a),c,b)});h("u.async.each",z);h("u.async.do",function(a){return new Promise(function(c){function b(){return a(d++).then(function(a){return!a||b()})}var d=0;b().then(c)})});h("u.EventListener",A);h("u.Event",C);C.prototype.addListener=C.prototype.g;C.prototype.removeListener=C.prototype.h;C.prototype.fire=C.prototype.j;h("u.Exception",v);h("u.Geolocation",t);t.prototype.equals=t.prototype.a;h("u.math.floorPrecision",function(a,c){if(0==c)return Math.floor(a);var b=Math.pow(10,c);return Math.floor(a*b)/b});h("u.reflection.evaluateFullyQualifiedTypeName",function(a){var c;try{for(var b=a.split("."),d=b.pop(),g=window,l=0;l<b.length;++l)g=g[b[l]];c=g[d]}catch(n){throw new y("Unknown type name: "+a,n);}if("function"!==typeof c)throw new y("Unknown type name: "+a);return c});h("u.reflection.applyConstructor",function(a,c){return new (Function.prototype.bind.apply(a,[null].concat(w(c))))});h("u.reflection.wrap",function(a,c){a.__proto__=c.prototype;return a});h("u.reflection.ReflectionException",y);h("u.string.capitalizeFirstLetter",m);h("u.TimeSpan",r);r.prototype.days=r.prototype.f;r.prototype.hours=r.prototype.l;r.prototype.minutes=r.prototype.m;r.prototype.seconds=r.prototype.J;r.prototype.milliseconds=r.prototype.I;r.prototype.totalDays=r.prototype.A;r.prototype.totalHours=r.prototype.B;r.prototype.totalMinutes=r.prototype.C;r.prototype.totalSeconds=r.prototype.L;r.prototype.totalMilliseconds=r.prototype.K;r.prototype.toString=r.prototype.toString;h("u.each",q);h("u.map",function(a,c,b){if(void 0==a)return[];if(Array.isArray(a))return a.map(c);var d=[];q(a,function(a,l){d.push(c.call(b,l,a))});return d});h("u.copy",function(a){if(void 0==a)return a;if(Array.isArray(a))return a.slice();var c={};q(a,function(a,d){c[a]=d});return c});h("u.generatePseudoGUID",function(a){for(var c="",b=0;b<a;++b)c+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.round(61*Math.random())];return c});}).call(this); //@ sourceMappingURL=utils.min.js.map
