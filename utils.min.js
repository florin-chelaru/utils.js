/**
* @license utils.js
* Copyright (c) 2015 Florin Chelaru
* License: MIT
*
* Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated
* documentation files (the "Software"), to deal in the Software without restriction, including without limitation the
* rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to
* permit persons to whom the Software is furnished to do so, subject to the following conditions:
*
* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the
* Software.
*
* THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE
* WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR
* COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
* OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
*/
(function(){'use strict';var g,h=this;function m(){}
function aa(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function n(a){return"function"==aa(a)}function ba(a,b,c){return a.call.apply(a.bind,arguments)}function ca(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}
function p(a,b,c){p=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ba:ca;return p.apply(null,arguments)}function q(a,b){var c=a.split("."),d=h;c[0]in d||!d.execScript||d.execScript("var "+c[0]);for(var e;c.length&&(e=c.shift());)c.length||void 0===b?d[e]?d=d[e]:d=d[e]={}:d[e]=b}
function r(a,b){function c(){}c.prototype=b.prototype;a.Z=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.Y=function(a,c,f){for(var k=Array(arguments.length-2),l=2;l<arguments.length;l++)k[l-2]=arguments[l];return b.prototype[c].apply(a,k)}};function t(a,b){if(void 0==a)return a;var c;if(Array.isArray(a))for(c=0;c<a.length&&!1!==b.call(a[c],c,a[c]);++c);else for(c in a)if(!1===b.call(a[c],c,a[c]))break;return a};function v(a){return Array.isArray(a)?a:[].slice.apply(a)}function w(a,b){b=b||0;a=a||0;for(var c=Array(a),d=0;d<a;++d)c[d]=d+b;return c};function y(a,b,c,d){this.lat=a||0;this.lng=b||0;this.zoom=c||0;this.range=d||0}y.prototype.a=function(a){return void 0==a?!1:this.lat==a.lat&&this.lng==a.lng&&this.zoom==a.zoom&&this.range==a.range};function z(a,b){this.H=Error(a);this.N=b||null;this.message=this.H.message;this.name="Exception"}r(z,Error);Object.defineProperties(z.prototype,{stack:{get:function(){return this.H.stack}},innerException:{get:function(){return this.N}}});function A(a,b){z.apply(this,arguments);this.name="ReflectionException"}r(A,z);function B(a){var b;try{for(var c=a.split("."),d=c.pop(),e=window,f=0;f<c.length;++f)e=e[c[f]];b=e[d]}catch(k){throw new A("Unknown type name: "+a,k);}if("function"!==typeof b)throw new A("Unknown type name: "+a);return b};function C(a){0>a&&(a=0);this.a=a;this.f=this.h=this.g=this.c=this.b=this.m=this.l=this.j=this.i=null}g=C.prototype;g.s=function(){null==this.b&&(this.b=Math.floor(this.D()));return this.b};g.w=function(){null==this.c&&(this.c=Math.floor(24*(this.D()-this.s())));return this.c};g.B=function(){null==this.g&&(this.g=Math.floor(60*(this.F()-Math.floor(this.F()))));return this.g};g.S=function(){null==this.h&&(this.h=Math.floor(60*(this.G()-Math.floor(this.G()))));return this.h};
g.P=function(){null==this.f&&(this.f=this.a%1E3);return this.f};g.D=function(){null==this.i&&(this.i=this.a/864E5);return this.i};g.F=function(){null==this.j&&(this.j=this.a/36E5);return this.j};g.G=function(){null==this.l&&(this.l=this.a/6E4);return this.l};g.U=function(){null==this.m&&(this.m=this.a/1E3);return this.m};g.T=function(){return this.a};
g.toString=function(){var a="";0<this.s()&&(a=1<this.s()?a+(this.s()+" days"):a+"one day");0<this.w()&&(a&&(a+=", "),a=1<this.w()?a+(this.w()+" hours"):a+"one hour");0<this.B()?(a&&(a+=" and "),a=1<this.B()?a+(this.B()+" minutes"):a+"one minute"):a||(a+="less than a minute");return E(a)};function E(a){return a?a.charAt(0).toUpperCase()+a.slice(1):a};function F(a){a.prototype.then=a.prototype.then;a.prototype.$goog_Thenable=!0}function G(a){if(!a)return!1;try{return!!a.$goog_Thenable}catch(b){return!1}};function H(a){if(Error.captureStackTrace)Error.captureStackTrace(this,H);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))}r(H,Error);H.prototype.name="CustomError";function I(a,b,c){this.f=c;this.c=a;this.g=b;this.b=0;this.a=null}I.prototype.get=function(){var a;0<this.b?(this.b--,a=this.a,this.a=a.next,a.next=null):a=this.c();return a};function da(a,b){a.g(b);a.b<a.f&&(a.b++,b.next=a.a,a.a=b)};var J;a:{var ea=h.navigator;if(ea){var fa=ea.userAgent;if(fa){J=fa;break a}}J=""};var ga=Array.prototype,ha=ga.some?function(a,b,c){return ga.some.call(a,b,c)}:function(a,b,c){for(var d=a.length,e="string"==typeof a?a.split(""):a,f=0;f<d;f++)if(f in e&&b.call(c,e[f],f,a))return!0;return!1};function ia(a){h.setTimeout(function(){throw a;},0)}var K;
function ja(){var a=h.MessageChannel;"undefined"===typeof a&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&-1==J.indexOf("Presto")&&(a=function(){var a=document.createElement("IFRAME");a.style.display="none";a.src="";document.documentElement.appendChild(a);var b=a.contentWindow,a=b.document;a.open();a.write("");a.close();var c="callImmediate"+Math.random(),d="file:"==b.location.protocol?"*":b.location.protocol+"//"+b.location.host,a=p(function(a){if(("*"==d||a.origin==
d)&&a.data==c)this.port1.onmessage()},this);b.addEventListener("message",a,!1);this.port1={};this.port2={postMessage:function(){b.postMessage(c,d)}}});if("undefined"!==typeof a&&-1==J.indexOf("Trident")&&-1==J.indexOf("MSIE")){var b=new a,c={},d=c;b.port1.onmessage=function(){if(void 0!==c.next){c=c.next;var a=c.J;c.J=null;a()}};return function(a){d.next={J:a};d=d.next;b.port2.postMessage(0)}}return"undefined"!==typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(a){var b=
document.createElement("SCRIPT");b.onreadystatechange=function(){b.onreadystatechange=null;b.parentNode.removeChild(b);b=null;a();a=null};document.documentElement.appendChild(b)}:function(a){h.setTimeout(a,0)}};var la=new I(function(){return new ka},function(a){a.reset()},100);function ma(){var a=na,b=null;a.a&&(b=a.a,a.a=a.a.next,a.a||(a.b=null),b.next=null);return b}function ka(){this.next=this.b=this.a=null}ka.prototype.reset=function(){this.next=this.b=this.a=null};function oa(a,b){L||pa();M||(L(),M=!0);var c=na,d=la.get();d.a=a;d.b=b;d.next=null;c.b?c.b.next=d:c.a=d;c.b=d}var L;function pa(){if(h.Promise&&h.Promise.resolve){var a=h.Promise.resolve(void 0);L=function(){a.then(qa)}}else L=function(){var a=qa;!n(h.setImmediate)||h.Window&&h.Window.prototype&&h.Window.prototype.setImmediate==h.setImmediate?(K||(K=ja()),K(a)):h.setImmediate(a)}}var M=!1,na=new function(){this.b=this.a=null};
function qa(){for(var a=null;a=ma();){try{a.a.call(a.b)}catch(b){ia(b)}da(la,a)}M=!1};function N(a,b){this.a=O;this.i=void 0;this.c=this.b=this.f=null;this.g=this.h=!1;if(a!=m)try{var c=this;a.call(b,function(a){P(c,Q,a)},function(a){P(c,R,a)})}catch(d){P(this,R,d)}}var O=0,Q=2,R=3;function ra(){this.next=this.c=this.b=this.f=this.a=null;this.g=!1}ra.prototype.reset=function(){this.c=this.b=this.f=this.a=null;this.g=!1};var sa=new I(function(){return new ra},function(a){a.reset()},100);function ta(a,b,c){var d=sa.get();d.f=a;d.b=b;d.c=c;return d}
N.prototype.then=function(a,b,c){return ua(this,n(a)?a:null,n(b)?b:null,c)};F(N);function va(a,b){a.b||a.a!=Q&&a.a!=R||wa(a);a.c?a.c.next=b:a.b=b;a.c=b}function ua(a,b,c,d){var e=ta(null,null,null);e.a=new N(function(a,k){e.f=b?function(c){try{var e=b.call(d,c);a(e)}catch(D){k(D)}}:a;e.b=c?function(b){try{var e=c.call(d,b);a(e)}catch(D){k(D)}}:k});e.a.f=a;va(a,e);return e.a}N.prototype.l=function(a){this.a=O;P(this,Q,a)};N.prototype.m=function(a){this.a=O;P(this,R,a)};
function P(a,b,c){if(a.a==O){a==c&&(b=R,c=new TypeError("Promise cannot resolve to itself"));a.a=1;var d;a:{var e=c,f=a.l,k=a.m;if(e instanceof N)va(e,ta(f||m,k||null,a)),d=!0;else if(G(e))e.then(f,k,a),d=!0;else{var l=typeof e;if("object"==l&&null!=e||"function"==l)try{var x=e.then;if(n(x)){xa(e,x,f,k,a);d=!0;break a}}catch(D){k.call(a,D);d=!0;break a}d=!1}}d||(a.i=c,a.a=b,a.f=null,wa(a),b!=R||ya(a,c))}}
function xa(a,b,c,d,e){function f(a){l||(l=!0,d.call(e,a))}function k(a){l||(l=!0,c.call(e,a))}var l=!1;try{b.call(a,k,f)}catch(x){f(x)}}function wa(a){a.h||(a.h=!0,oa(a.j,a))}function za(a){var b=null;a.b&&(b=a.b,a.b=b.next,b.next=null);a.b||(a.c=null);return b}
N.prototype.j=function(){for(var a=null;a=za(this);){var b=this.a,c=this.i;if(b==R&&a.b&&!a.g)for(var d=void 0,d=this;d&&d.g;d=d.f)d.g=!1;if(a.a)a.a.f=null,Aa(a,b,c);else try{a.g?a.f.call(a.c):Aa(a,b,c)}catch(e){Ba.call(null,e)}da(sa,a)}this.h=!1};function Aa(a,b,c){b==Q?a.f.call(a.c,c):a.b&&a.b.call(a.c,c)}function ya(a,b){a.g=!0;oa(function(){a.g&&Ba.call(null,b)})}var Ba=ia;/*
 Portions of this code are from MochiKit, received by
 The Closure Authors under the MIT license. All other code is Copyright
 2005-2009 The Closure Authors. All Rights Reserved.
*/
function S(a,b){this.f=[];this.X=b||null;this.a=this.m=!1;this.b=void 0;this.K=this.R=this.h=!1;this.g=0;this.i=null;this.V=0}S.prototype.l=function(a,b){this.h=!1;T(this,a,b)};function T(a,b,c){a.m=!0;a.b=c;a.a=!b;Ca(a)}function Da(a){if(a.c()){if(!a.K)throw new U;a.K=!1}}S.prototype.j=function(a){Da(this);T(this,!0,a)};S.prototype.L=function(a){Da(this);T(this,!1,a)};function V(a,b,c,d){a.f.push([b,c,d]);a.c()&&Ca(a)}
S.prototype.then=function(a,b,c){var d,e,f=new N(function(a,b){d=a;e=b});V(this,d,function(a){e(a)});return f.then(a,b,c)};F(S);S.prototype.W=function(a){V(this,a.j,a.L,a);return this};S.prototype.c=function(){return this.m};function Ea(a){return ha(a.f,function(a){return n(a[1])})}
function Ca(a){if(a.g&&a.c()&&Ea(a)){var b=a.g,c=W[b];c&&(h.clearTimeout(c.A),delete W[b]);a.g=0}a.i&&(a.i.V--,delete a.i);for(var b=a.b,d=c=!1;a.f.length&&!a.h;){var e=a.f.shift(),f=e[0],k=e[1],e=e[2];if(f=a.a?k:f)try{var l=f.call(e||a.X,b);void 0!==l&&(a.a=a.a&&(l==b||l instanceof Error),a.b=b=l);if(G(b)||"function"===typeof h.Promise&&b instanceof h.Promise)d=!0,a.h=!0}catch(x){b=x,a.a=!0,Ea(a)||(c=!0)}}a.b=b;d&&(l=p(a.l,a,!0),d=p(a.l,a,!1),b instanceof S?(V(b,l,d),b.R=!0):b.then(l,d));c&&(b=new Fa(b),
W[b.A]=b,a.g=b.A)}function U(){H.call(this)}r(U,H);U.prototype.message="Deferred has already fired";U.prototype.name="AlreadyCalledError";function Fa(a){this.A=h.setTimeout(p(this.b,this),0);this.a=a}Fa.prototype.b=function(){delete W[this.A];throw this.a;};var W={};var X={};Object.defineProperties(X,{Deferred:{get:function(){if(!this.o)try{this.o=B("goog.async.Deferred")}catch(a){this.o=S,this.o.prototype.then=S.prototype.then,this.o.prototype.callback=S.prototype.j,this.o.prototype.chainDeferred=S.prototype.W,this.o.prototype.hasFired=S.prototype.c}return this.o}}});X.all=function(a,b){return X.C(a,function(a){return a.call(null)},b)};X.O=function(a,b,c){return X.C(w(a),b,c)};
X.C=function(a,b,c){var d=B("u.async.Deferred"),e=new d;if(!a||!a.length)return e.callback(),e;var f,k;c?(f=Array(a.length+1),f[0]=new d,f[0].callback()):k=a.length;a.forEach(function(a,d){c?f[d+1]=f[d].then(function(){return b.call(null,a,d)}):b.call(null,a,d).then(function(){--k;k||e.callback()})});c&&f[a.length].then(function(){e.callback()});return e};function Y(a,b){this.M=++Ga;this.a=a;this.b=b}var Ga=-1;Y.prototype.v=function(a){this.a.call(this.b,a)};Object.defineProperties(Y.prototype,{id:{get:function(){return this.M}}});function Z(a){this.I=a?!!a.$:!1;this.b=0;this.a={};this.u=!1;this.c=a&&a.timeout?a.timeout:setTimeout}Object.defineProperties(Z.prototype,{synchronous:{get:function(){return this.I}},firing:{get:function(){return this.u}}});Z.prototype.f=function(a,b){"function"==typeof a&&(a=new Y(a,b));this.a[a.id]||++this.b;return this.a[a.id]=a};Z.prototype.g=function(a){this.a[a.id]&&(delete this.a[a.id],--this.b)};
Z.prototype.v=function(a){if(!this.u){var b=this,c=this.c,d=this.I,e=function(){0!=b.b&&(b.u=d,t(b.a,function(b,e){d?e.v(a):c.call(null,function(){e.v(a)},0)}))};d?e():c.call(null,e,0);this.u=!1}};q("u.array.fromArguments",v);q("u.array.fill",function(a,b){a=a||0;for(var c=Array(a),d=0;d<a;++d)c[d]=b;return c});q("u.array.range",w);q("u.array.unique",function(a){return a.reduce(function(a,c){0>a.indexOf(c)&&a.push(c);return a},[])});q("u.async",X);q("u.async.all",X.all);q("u.async.for",X.O);q("u.async.each",X.C);q("u.EventListener",Y);q("u.Event",Z);Z.prototype.addListener=Z.prototype.f;Z.prototype.removeListener=Z.prototype.g;Z.prototype.fire=Z.prototype.v;q("u.Exception",z);q("u.Geolocation",y);y.prototype.equals=y.prototype.a;q("u.math.floorPrecision",function(a,b){if(0==b)return Math.floor(a);var c=Math.pow(10,b);return Math.floor(a*c)/c});q("u.reflection.evaluateFullyQualifiedTypeName",B);q("u.reflection.applyConstructor",function(a,b){return new (Function.prototype.bind.apply(a,[null].concat(v(b))))});q("u.reflection.wrap",function(a,b){a.__proto__=b.prototype;return a});q("u.reflection.ReflectionException",A);q("u.string.capitalizeFirstLetter",E);q("u.TimeSpan",C);C.prototype.days=C.prototype.s;C.prototype.hours=C.prototype.w;C.prototype.minutes=C.prototype.B;C.prototype.seconds=C.prototype.S;C.prototype.milliseconds=C.prototype.P;C.prototype.totalDays=C.prototype.D;C.prototype.totalHours=C.prototype.F;C.prototype.totalMinutes=C.prototype.G;C.prototype.totalSeconds=C.prototype.U;C.prototype.totalMilliseconds=C.prototype.T;C.prototype.toString=C.prototype.toString;q("u.each",t);q("u.map",function(a,b,c){if(void 0==a)return[];if(Array.isArray(a))return a.map(b);var d=[];t(a,function(a,f){d.push(b.call(c,f,a))});return d});q("u.copy",function(a){if(void 0==a)return a;if(Array.isArray(a))return a.slice();var b={};t(a,function(a,d){b[a]=d});return b});q("u.generatePseudoGUID",function(a){for(var b="",c=0;c<a;++c)b+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.round(61*Math.random())];return b});}).call(this); //@ sourceMappingURL=utils.min.js.map
